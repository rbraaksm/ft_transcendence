{"version":3,"file":"url-parser.js","sourceRoot":"ng://angular-routing/","sources":["lib/url-parser.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAG3C;IAAA;IA2BA,CAAC;IA1BC,yBAAK,GAAL,UAAM,GAAW,EAAE,IAAmB;QACpC,IAAI,IAAI,EAAE;YACR,OAAO,IAAI,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;SAC3B;QACD,OAAO,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;IACtB,CAAC;IAED,4BAAQ,GAAR,UAAS,UAAkB,EAAE,GAAW;QACtC,IAAM,kBAAkB,GAAG,UAAU;aAClC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc;aAC5B,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,sBAAsB;aACpC,KAAK,CAAC,GAAG,CAAC,CAAC;QACd,IAAM,WAAW,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAEnC,OAAO,WAAW;aACf,MAAM,CAAC,UAAC,QAAQ,EAAE,OAAO;YACxB,IAAI,OAAO,KAAK,GAAG,EAAE;gBACnB,OAAO,QAAQ,CAAC;aACjB;YACD,IAAI,OAAO,KAAK,IAAI,EAAE;gBACpB,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;aAC9B;YACD,gBAAW,QAAQ,GAAE,OAAO,GAAE;QAChC,CAAC,EAAE,kBAAkB,CAAC;aACrB,IAAI,CAAC,GAAG,CAAC,CAAC;IACf,CAAC;IA1BU,SAAS;QADrB,UAAU,EAAE;OACA,SAAS,CA2BrB;IAAD,gBAAC;CAAA,AA3BD,IA2BC;SA3BY,SAAS","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class UrlParser {\n  parse(url: string, base?: string | URL): URL {\n    if (base) {\n      return new URL(url, base);\n    }\n    return new URL(url);\n  }\n\n  joinUrls(currentUrl: string, url: string): string {\n    const currentUrlSegments = currentUrl\n      .split('#')[0] // remove hash\n      .split('?')[0] // remove query params\n      .split('/');\n    const urlSegments = url.split('/');\n\n    return urlSegments\n      .reduce((segments, segment) => {\n        if (segment === '.') {\n          return segments;\n        }\n        if (segment === '..') {\n          return segments.slice(0, -1);\n        }\n        return [...segments, segment];\n      }, currentUrlSegments)\n      .join('/');\n  }\n}\n"]}