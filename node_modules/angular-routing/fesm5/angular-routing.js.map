{"version":3,"file":"angular-routing.js","sources":["ng://angular-routing/lib/url-parser.ts","ng://angular-routing/lib/route-params.service.ts","ng://angular-routing/lib/router.service.ts","ng://angular-routing/lib/link-to.directive.ts","ng://angular-routing/lib/link-active.directive.ts","ng://angular-routing/lib/route-component.directive.ts","ng://angular-routing/lib/utils/path-parser.ts","ng://angular-routing/lib/utils/compare-routes.ts","ng://angular-routing/lib/router.component.ts","ng://angular-routing/lib/route.component.ts","ng://angular-routing/lib/router.module.ts","ng://angular-routing/index.ts","ng://angular-routing/angular-routing.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class UrlParser {\n  parse(url: string, base?: string | URL): URL {\n    if (base) {\n      return new URL(url, base);\n    }\n    return new URL(url);\n  }\n\n  joinUrls(currentUrl: string, url: string): string {\n    const currentUrlSegments = currentUrl\n      .split('#')[0] // remove hash\n      .split('?')[0] // remove query params\n      .split('/');\n    const urlSegments = url.split('/');\n\n    return urlSegments\n      .reduce((segments, segment) => {\n        if (segment === '.') {\n          return segments;\n        }\n        if (segment === '..') {\n          return segments.slice(0, -1);\n        }\n        return [...segments, segment];\n      }, currentUrlSegments)\n      .join('/');\n  }\n}\n","import { Observable } from 'rxjs';\n\nexport interface Params {\n  [param: string]: any;\n}\n\nexport class RoutePath<T extends string = string> extends Observable<T> {}\n\nexport class RouteParams<T extends Params = Params> extends Observable<T> {}\n\nexport class QueryParams<T extends Params = Params> extends Observable<T> {}\n\nexport function compareParams(previous: Params, current: Params): boolean {\n  return (\n    previous === current || JSON.stringify(previous) === JSON.stringify(current)\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { PlatformLocation, Location } from '@angular/common';\n\nimport { BehaviorSubject } from 'rxjs';\nimport { distinctUntilChanged, map } from 'rxjs/operators';\n\nimport * as queryString from 'query-string';\n\nimport { UrlParser } from './url-parser';\nimport { Params, compareParams } from './route-params.service';\n\ninterface State {\n  url: string;\n  queryParams: Params;\n  hash: string;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class Router {\n  private readonly state$ = new BehaviorSubject<State>({\n    url: this.location.path(),\n    queryParams: {},\n    hash: '',\n  });\n\n  readonly url$ = this.state$.pipe(\n    map((state) => state.url),\n    distinctUntilChanged()\n  );\n  readonly hash$ = this.state$.pipe(\n    map((state) => state.hash),\n    distinctUntilChanged()\n  );\n  readonly queryParams$ = this.state$.pipe(\n    map((state) => state.queryParams),\n    distinctUntilChanged(compareParams)\n  );\n\n  constructor(\n    private location: Location,\n    private platformLocation: PlatformLocation,\n    private urlParser: UrlParser\n  ) {\n    this.location.subscribe(() => {\n      this.nextState(this.getLocation());\n    });\n\n    this.nextState(this.getLocation());\n  }\n\n  go(url: string, queryParams?: Params, hash?: string) {\n    this.location.go(this.serializeUrl(url, queryParams, hash));\n\n    this.nextState(this.getLocation());\n  }\n\n  replace(url: string, queryParams?: Params, hash?: string) {\n    this.location.replaceState(this.serializeUrl(url, queryParams, hash));\n\n    this.nextState(this.getLocation());\n  }\n\n  serializeUrl(url: string, queryParams?: Params, hash?: string) {\n    // if relative path\n    if (!url.startsWith('/')) {\n      url = this.urlParser.joinUrls(this.location.path(), url);\n    }\n\n    return (\n      url +\n      (queryParams ? `?${queryString.stringify(queryParams)}` : '') +\n      `${hash ? '#' + hash : ''}`\n    );\n  }\n\n  getExternalUrl(url: string) {\n    return this.location.prepareExternalUrl(url);\n  }\n\n  parseSearchParams(searchParams: URLSearchParams) {\n    const queryParams: Params = {};\n\n    searchParams.forEach((value, key) => {\n      queryParams[key] = value;\n    });\n\n    return queryParams;\n  }\n\n  normalizePath(path: string) {\n    return this.location.normalize(path);\n  }\n\n  private getLocation() {\n    return this.platformLocation.href;\n  }\n\n  private nextState(url: string) {\n    const parsedUrl = this._parseUrl(url);\n\n    this.state$.next({\n      url: parsedUrl.pathname,\n      queryParams: this.parseSearchParams(parsedUrl.searchParams),\n      hash: parsedUrl.hash ? parsedUrl.hash.split('#')[0] : '',\n    });\n  }\n\n  private _parseUrl(path: string): URL {\n    return this.urlParser.parse(path);\n  }\n}\n","import {\n  Directive,\n  HostBinding,\n  HostListener,\n  Input,\n  Output,\n  EventEmitter,\n} from '@angular/core';\nimport { Router } from './router.service';\nimport { Params } from './route-params.service';\n\nconst DEFAULT_TARGET = '_self';\n\n/**\n * The LinkTo directive links to routes in your app\n *\n * Links are pushed to the `Router` service to trigger a route change.\n * Query params can be represented as an object or a string of names/values\n *\n * <a linkTo=\"/home/page\" [queryParams]=\"{ id: 123 }\">Home Page</a>\n * <a [linkTo]=\"'/pages' + page.id\">Page 1</a>\n */\n@Directive({ selector: 'a[linkTo]' })\nexport class LinkTo {\n  @Input() target = DEFAULT_TARGET;\n  @HostBinding('href') linkHref: string;\n\n  @Input() set linkTo(href: string) {\n    this._href = href;\n    this._updateHref();\n  }\n\n  @Input() set queryParams(params: Params) {\n    this._query = params;\n    this._updateHref();\n  }\n\n  @Input() set fragment(hash: string) {\n    this._hash = hash;\n    this._updateHref();\n  }\n\n  @Output() hrefUpdated: EventEmitter<string> = new EventEmitter<string>();\n\n  private _href: string;\n  private _query: Params;\n  private _hash: string;\n\n  constructor(private router: Router) {}\n\n  /**\n   * Handles click events on the associated link\n   * Prevents default action for non-combination click events without a target\n   */\n  @HostListener('click', ['$event'])\n  onClick(event: any) {\n    if (!this._comboClick(event) && this.target === DEFAULT_TARGET) {\n      this.router.go(this._href, this._query, this._hash);\n\n      event.preventDefault();\n    }\n  }\n\n  private _updateHref() {\n    const href = this._cleanUpHref(this._href);\n\n    this.linkHref = this.router.serializeUrl(href, this._query, this._hash);\n\n    this.hrefUpdated.emit(this.linkHref);\n  }\n\n  /**\n   * Determines whether the click event happened with a combination of other keys\n   */\n  private _comboClick(event) {\n    const buttonEvent = event.which || event.button;\n\n    return buttonEvent > 1 || event.ctrlKey || event.metaKey || event.shiftKey;\n  }\n\n  private _cleanUpHref(href: string = ''): string {\n    // Trim whitespaces and remove trailing slashes\n    return href.trim().replace(/[\\/]+$/, '');\n  }\n}\n","import {\n  AfterContentInit,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  Optional,\n  QueryList,\n  Renderer2,\n} from '@angular/core';\nimport { LinkTo } from './link-to.directive';\nimport { Router } from './router.service';\nimport { combineLatest, of, Subject, Subscription } from 'rxjs';\nimport { map, mapTo, startWith, takeUntil } from 'rxjs/operators';\n\nexport interface LinkActiveOptions {\n  exact: boolean;\n}\n\nexport const LINK_ACTIVE_OPTIONS: LinkActiveOptions = {\n  exact: true,\n};\n\n/**\n * The LinkActive directive toggles classes on elements that contain an active linkTo directive\n *\n * <a linkActive=\"active\" linkTo=\"/home/page\">Home Page</a>\n * <ol>\n *  <li linkActive=\"active\" *ngFor=\"var link of links\">\n *    <a [linkTo]=\"'/link/' + link.id\">{{ link.title }}</a>\n *  </li>\n * </ol>\n */\n@Directive({ selector: '[linkActive]' })\nexport class LinkActive implements AfterContentInit, OnDestroy, OnChanges {\n  @ContentChildren(LinkTo, { descendants: true }) public links: QueryList<\n    LinkTo\n  >;\n  @Input('linkActive') activeClass = 'active';\n  @Input() activeOptions: LinkActiveOptions;\n  private _activeOptions: LinkActiveOptions = { exact: true };\n  private _destroy$ = new Subject();\n  private _linksSub!: Subscription;\n\n  constructor(\n    public element: ElementRef,\n    public router: Router,\n    public renderer: Renderer2,\n    @Optional()\n    @Inject(LINK_ACTIVE_OPTIONS)\n    private defaultActiveOptions: LinkActiveOptions,\n    @Optional() private link: LinkTo\n  ) {}\n\n  ngAfterContentInit() {\n    if (this.defaultActiveOptions && !this.activeOptions) {\n      this._activeOptions = this.defaultActiveOptions;\n    } else if (this.activeOptions) {\n      this._activeOptions = this.activeOptions;\n    }\n\n    this.links.changes.subscribe(() => this.collectLinks());\n    this.collectLinks();\n  }\n\n  ngOnChanges() {\n    this.collectLinks();\n  }\n\n  collectLinks() {\n    if (this._linksSub) {\n      this._linksSub.unsubscribe();\n    }\n\n    const contentLinks$ = this.links\n      ? this.links\n          .toArray()\n          .map((link) =>\n            link.hrefUpdated.pipe(\n              startWith(link.linkHref),\n              mapTo(link.linkHref)\n            )\n          )\n      : [];\n    const link$ = this.link\n      ? this.link.hrefUpdated.pipe(\n          startWith(this.link.linkHref),\n          mapTo(this.link.linkHref)\n        )\n      : of('');\n    const router$ = this.router.url$.pipe(\n      map((path) => this.router.getExternalUrl(path || '/'))\n    );\n\n    const observables$ = [router$, link$, ...contentLinks$];\n\n    this._linksSub = combineLatest(observables$)\n      .pipe(takeUntil(this._destroy$))\n      .subscribe(([path, link, ...links]) => {\n        this.checkActive([...links, link], path);\n      });\n  }\n\n  checkActive(linkHrefs: string[], path: string) {\n    const active = linkHrefs.reduce((isActive, current) => {\n      const [href] = current.split('?');\n\n      if (this._activeOptions.exact) {\n        isActive = isActive ? isActive : href === path;\n      } else {\n        isActive = isActive ? isActive : path.startsWith(href);\n      }\n\n      return isActive;\n    }, false);\n\n    this.updateClasses(active);\n  }\n\n  updateClasses(active: boolean) {\n    const activeClasses = this.activeClass.split(' ');\n    activeClasses.forEach((activeClass) => {\n      if (active) {\n        this.renderer.addClass(this.element.nativeElement, activeClass);\n      } else {\n        this.renderer.removeClass(this.element.nativeElement, activeClass);\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this._destroy$.next();\n  }\n}\n","import { Directive, Input } from '@angular/core';\n\n@Directive({\n  selector: '[routeComponent]',\n})\nexport class RouteComponentTemplate {\n  @Input() routeComponent: any;\n}\n","import { Route } from '../route';\nimport { Params } from '../route-params.service';\n\nconst PARAM_PREFIX = ':';\n\nexport interface RouteMatch {\n  path: string;\n  params: Params;\n}\n\nconst DIV = '\\\\/'; // /\nconst DIV_PARAM = `(?:${DIV}([^\\\\/#\\\\?]+?))`; // capturing group for one or more of not (/, # or ?), optional (TODO: check if optional is needed)\nconst PATH_END = '[\\\\/#\\\\?]'; // path end: /, # or ?\nconst END = '[]|$'; // null or end\nconst EXACT_END = `${PATH_END}?$`; // match PATH_END optionally and END\nconst WILDCARD = `(?:${PATH_END}(?=${END}))?`; // match optionally PATH_END followed by END\nconst NON_EXACT_END = `${WILDCARD}(?=${PATH_END}|${END})`; // match WILDCARD followed by PATH_END or END\n\nexport function getPathSegments(route: Route): string[] {\n  const sanitizedPath = route.path.replace(/^\\//, '').replace(/(?:\\/$)/, '');\n  return sanitizedPath ? sanitizedPath.split('/') : [];\n}\n\nexport const parsePath = (route: Route): RegExp => {\n  const segments = getPathSegments(route);\n  const regexBody = segments.reduce(\n    (acc, segment) =>\n      segment.startsWith(PARAM_PREFIX)\n        ? `${acc}${DIV_PARAM}`\n        : `${acc}${DIV}${segment}`,\n    ''\n  );\n\n  if (route.options.exact ?? true) {\n    return new RegExp(`^${regexBody}${EXACT_END}`, 'i');\n  } else {\n    return new RegExp(\n      `^${regexBody}${regexBody ? NON_EXACT_END : WILDCARD}`,\n      'i'\n    );\n  }\n};\n\nexport const matchRoute = (\n  url: string,\n  route: Route\n): RouteMatch | undefined => {\n  const match = route.matcher?.exec(url);\n  if (!match) {\n    return;\n  }\n  const keys = getPathSegments(route)\n    .filter((s) => s.startsWith(PARAM_PREFIX))\n    .map((s) => s.slice(1));\n\n  return {\n    path: match[0],\n    params: keys.reduce(\n      (acc, key, index) => ({ ...acc, [key]: match[index + 1] }),\n      {}\n    ),\n  };\n};\n","import { Route } from '../route';\nimport { getPathSegments } from './path-parser';\n\n/**\n * Compares two routes and returns sorting number\n * 0 - equal\n * -1 - `a` has priority over `b`\n * 1 - `b` has priority over `a`\n *\n * @param a Route\n * @param b Route\n */\nexport const compareRoutes = (a: Route, b: Route): number => {\n  // as matchers combine normalized path and `exact` option it's safe to compare regexps\n  if (a.matcher.toString() === b.matcher.toString()) {\n    return 0;\n  }\n  const aSegments = getPathSegments(a);\n  const bSegments = getPathSegments(b);\n\n  for (let i = 0; i < Math.max(aSegments.length, bSegments.length); i++) {\n    const current = compareSegments(aSegments, bSegments, i);\n    if (current) {\n      return current;\n    }\n  }\n  // when paths are same, exact has priority\n  return a.options.exact ?? true ? -1 : 1;\n};\n\nfunction compareSegments(\n  aSegments: string[],\n  bSegments: string[],\n  index: number\n): number {\n  // if a has no more segments -> return 1\n  if (aSegments.length <= index) {\n    return 1;\n  }\n  // if b has no more segments -> return -1\n  if (bSegments.length <= index) {\n    return -1;\n  }\n  if (aSegments[index] === bSegments[index]) {\n    return 0;\n  }\n  // prioritize non-empty path over empty\n  if (!aSegments[index]) {\n    return 1;\n  }\n  if (!bSegments[index]) {\n    return -1;\n  }\n  // ignore param names\n  if (isParam(aSegments[index]) && isParam(bSegments[index])) {\n    return 0;\n  }\n  // static segment has priority over param\n  if (isParam(aSegments[index])) {\n    return 1;\n  }\n  if (isParam(bSegments[index])) {\n    return -1;\n  }\n  // when all is same run string comparison\n  return aSegments[index].localeCompare(bSegments[index]);\n}\n\nfunction isParam(segment: string): boolean {\n  return segment.startsWith(':');\n}\n","import {\n  Component,\n  SkipSelf,\n  Optional,\n  OnInit,\n  OnDestroy,\n} from '@angular/core';\nimport { combineLatest, Subject, BehaviorSubject } from 'rxjs';\nimport {\n  tap,\n  takeUntil,\n  distinctUntilChanged,\n  debounceTime,\n  map,\n} from 'rxjs/operators';\nimport { Route, ActiveRoute } from './route';\nimport { Router } from './router.service';\nimport { compareParams } from './route-params.service';\nimport { compareRoutes } from './utils/compare-routes';\nimport { matchRoute, parsePath } from './utils/path-parser';\n\ninterface State {\n  activeRoute: ActiveRoute | null;\n  routes: Route[];\n}\n\ntype UnregisterableRoute = Route & { unregister?: boolean };\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'router',\n  template: '<ng-content></ng-content>',\n})\nexport class RouterComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject();\n  private readonly state$ = new BehaviorSubject<State>({\n    activeRoute: null,\n    routes: [],\n  });\n\n  readonly activeRoute$ = this.state$.pipe(\n    map((state) => state.activeRoute),\n    distinctUntilChanged(this.compareActiveRoutes),\n    takeUntil(this.destroy$)\n  );\n  readonly routes$ = this.state$.pipe(\n    map((state) => state.routes),\n    distinctUntilChanged(this.compareRoutes),\n    takeUntil(this.destroy$)\n  );\n\n  public basePath = '';\n\n  // support multiple \"routers\"\n  // router (base /)\n  // blog(.*?)\n  // router (base /blog)\n  // post1(blog/post1/(.*?)\n  // post2\n  // post3\n\n  constructor(\n    private router: Router,\n    @SkipSelf() @Optional() public parentRouterComponent: RouterComponent\n  ) {}\n\n  ngOnInit() {\n    combineLatest([this.routes$.pipe(debounceTime(1)), this.router.url$])\n      .pipe(\n        distinctUntilChanged(),\n        tap(([routes, url]: [Route[], string]) => {\n          let routeToRender = null;\n          for (const route of routes) {\n            routeToRender = this.isRouteMatch(url, route);\n\n            if (routeToRender) {\n              this.setRoute(url, route);\n              break;\n            }\n          }\n\n          if (!routeToRender) {\n            this.setActiveRoute({ route: null, params: {}, path: '' });\n          }\n        }),\n        takeUntil(this.destroy$)\n      )\n      .subscribe();\n  }\n\n  setRoute(url: string, route: Route) {\n    this.basePath = route.path;\n    const match = matchRoute(url, route);\n    this.setActiveRoute({\n      route,\n      params: match?.params || {},\n      path: match?.path || '',\n    });\n  }\n\n  registerRoute(route: Route) {\n    route.matcher = route.matcher || parsePath(route);\n    this.updateRoutes(route);\n\n    return route;\n  }\n\n  setActiveRoute(activeRoute: ActiveRoute) {\n    this.updateState({ activeRoute });\n  }\n\n  unregisterRoute(route: Route) {\n    this.updateRoutes({ ...route, unregister: true });\n  }\n\n  normalizePath(path: string) {\n    return this.router.normalizePath(path);\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n  }\n\n  private isRouteMatch(url: string, route: Route) {\n    return route.matcher?.exec(url);\n  }\n\n  private compareActiveRoutes(\n    previous: ActiveRoute,\n    current: ActiveRoute\n  ): boolean {\n    if (previous === current) {\n      return true;\n    }\n    if (!previous) {\n      return false;\n    }\n    return (\n      previous.path === current.path &&\n      compareParams(previous.params, current.params) &&\n      previous.route.path === current.route.path &&\n      previous.route.options.exact === current.route.options.exact\n    );\n  }\n\n  private compareRoutes(previous: Route[], current: Route[]): boolean {\n    if (previous === current) {\n      return true;\n    }\n    if (!previous) {\n      return false;\n    }\n    return (\n      previous.length === current.length &&\n      previous.every((route, i) => route[i] === current[i])\n    );\n  }\n\n  private updateState(newState: Partial<State>) {\n    this.state$.next({ ...this.state$.value, ...newState });\n  }\n\n  private updateRoutes(route: UnregisterableRoute) {\n    const routes = this.state$.value.routes;\n    if (route.unregister) {\n      this.updateState({\n        routes: routes.filter((r) => r.matcher !== route.matcher),\n      });\n    } else {\n      this.updateState({ routes: routes.concat(route).sort(compareRoutes) });\n    }\n  }\n}\n","import {\n  Component,\n  OnInit,\n  Input,\n  Type,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  ContentChild,\n  TemplateRef,\n  ChangeDetectionStrategy,\n  Self,\n  NgModuleFactory,\n  Compiler,\n  OnDestroy,\n} from '@angular/core';\n\nimport { Subject, BehaviorSubject, of, from } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  takeUntil,\n  mergeMap,\n  withLatestFrom,\n  map,\n} from 'rxjs/operators';\n\nimport { Load, Route, RouteOptions } from './route';\nimport { Params, RouteParams, RoutePath } from './route-params.service';\nimport { RouterComponent } from './router.component';\nimport { Router } from './router.service';\n\nexport function getRouteParams(routeComponent: RouteComponent) {\n  return routeComponent.routeParams$;\n}\n\nexport function getRoutePath(routeComponent: RouteComponent) {\n  return routeComponent.routePath$;\n}\n\ninterface State {\n  params: Params;\n  path: string;\n  shouldRender: boolean;\n}\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'route',\n  template: `\n    <ng-container\n      *ngIf=\"(shouldRender$ | async) && template\"\n      [ngTemplateOutlet]=\"template\"\n    >\n    </ng-container>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: RouteParams,\n      useFactory: getRouteParams,\n      deps: [[new Self(), RouteComponent]],\n    },\n    {\n      provide: RoutePath,\n      useFactory: getRoutePath,\n      deps: [[new Self(), RouteComponent]],\n    },\n  ],\n})\nexport class RouteComponent implements OnInit, OnDestroy {\n  @ContentChild(TemplateRef) template: TemplateRef<any> | null;\n\n  @Input()\n  get path() {\n    return this._path;\n  }\n\n  set path(value: string) {\n    this._path = this.sanitizePath(value);\n  }\n\n  @Input() component: Type<any>;\n  @Input() load: Load;\n  @Input() reuse = true;\n  @Input() redirectTo!: string;\n  @Input() exact: boolean;\n  @Input() routeOptions: RouteOptions;\n\n  private _path: string;\n  private destroy$ = new Subject();\n  private readonly state$ = new BehaviorSubject<State>({\n    params: {},\n    path: '',\n    shouldRender: false,\n  });\n\n  readonly shouldRender$ = this.state$.pipe(map((state) => state.shouldRender));\n  readonly routeParams$ = this.state$.pipe(\n    map((state) => state.params),\n    distinctUntilChanged(),\n    takeUntil(this.destroy$)\n  );\n  readonly routePath$ = this.state$.pipe(\n    map((state) => state.path),\n    distinctUntilChanged(),\n    takeUntil(this.destroy$)\n  );\n  route!: Route;\n\n  constructor(\n    private router: Router,\n    private routerComponent: RouterComponent,\n    private resolver: ComponentFactoryResolver,\n    private viewContainerRef: ViewContainerRef,\n    private compiler: Compiler\n  ) {}\n\n  ngOnInit(): void {\n    // account for root level routes, don't add the basePath\n    const path = this.routerComponent.parentRouterComponent\n      ? this.routerComponent.parentRouterComponent.basePath + this.path\n      : this.path;\n\n    this.route = this.registerRoute(path, this.exact, this.load);\n\n    this.routerComponent.activeRoute$\n      .pipe(\n        filter((ar) => ar !== null),\n        distinctUntilChanged(),\n        withLatestFrom(this.shouldRender$),\n        mergeMap(([current, rendered]) => {\n          if (current.route === this.route) {\n            if (this.redirectTo) {\n              this.router.go(this.redirectTo);\n              return of(null);\n            }\n\n            this.updateState({\n              params: current.params,\n              path: current.path,\n            });\n\n            if (!rendered) {\n              if (!this.reuse) {\n                this.clearView();\n              }\n\n              return this.loadAndRender(current.route);\n            }\n\n            return of(null);\n          } else if (rendered) {\n            return of(this.clearView());\n          }\n\n          return of(null);\n        }),\n        takeUntil(this.destroy$)\n      )\n      .subscribe();\n  }\n\n  ngOnDestroy() {\n    this.routerComponent.unregisterRoute(this.route);\n    this.destroy$.next();\n  }\n\n  registerRoute(path: string, exact: boolean, load: Load) {\n    return this.routerComponent.registerRoute({\n      path: path,\n      load: load,\n      options: this.routeOptions || { exact: exact },\n    });\n  }\n\n  private loadAndRender(route: Route) {\n    if (route.load) {\n      return from(\n        route.load().then((componentOrModule) => {\n          if (componentOrModule instanceof NgModuleFactory) {\n            const moduleRef = componentOrModule.create(\n              this.viewContainerRef.injector\n            );\n            const component = moduleRef.instance.routeComponent;\n\n            this.renderComponent(component);\n          } else if (componentOrModule.ɵmod) {\n            return this.compiler\n              .compileModuleAsync(componentOrModule as Type<any>)\n              .then((moduleFactory) => {\n                const moduleRef = moduleFactory.create(\n                  this.viewContainerRef.injector\n                );\n                const component = moduleRef.instance.routeComponent;\n                this.renderComponent(component);\n\n                return true;\n              });\n          } else {\n            this.renderComponent(componentOrModule);\n          }\n\n          return true;\n        })\n      );\n    } else {\n      this.showTemplate();\n      return of(true);\n    }\n  }\n\n  private renderComponent(component: Type<any>) {\n    const componentFactory = this.resolver.resolveComponentFactory(component);\n\n    this.showTemplate();\n    this.viewContainerRef.createComponent(\n      componentFactory,\n      this.viewContainerRef.length,\n      this.viewContainerRef.injector\n    );\n  }\n\n  private clearComponent() {\n    this.viewContainerRef.clear();\n    this.hideTemplate();\n  }\n\n  private showTemplate() {\n    setTimeout(() => {\n      this.updateState({ shouldRender: true });\n    });\n  }\n\n  private hideTemplate() {\n    this.updateState({ shouldRender: false });\n  }\n\n  private clearView() {\n    if (this.load) {\n      this.clearComponent();\n    } else {\n      this.hideTemplate();\n    }\n  }\n\n  private sanitizePath(path: string): string {\n    const trimmed = path.trim();\n    return trimmed.startsWith('/') ? trimmed : `/${trimmed}`;\n  }\n\n  private updateState(newState: Partial<State>) {\n    this.state$.next({ ...this.state$.value, ...newState });\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport {\n  LocationStrategy,\n  PathLocationStrategy,\n  CommonModule,\n} from '@angular/common';\n\nimport { RouterComponent } from './router.component';\nimport { RouteComponent } from './route.component';\nimport { RouteComponentTemplate } from './route-component.directive';\nimport { LinkActive } from './link-active.directive';\nimport { LinkTo } from './link-to.directive';\nimport { UrlParser } from './url-parser';\nimport { QueryParams } from './route-params.service';\nimport { Router } from './router.service';\n\nexport const components = [\n  RouterComponent,\n  RouteComponent,\n  LinkActive,\n  LinkTo,\n  RouteComponentTemplate,\n];\n\nexport function getQueryParams(router: Router) {\n  return router.queryParams$;\n}\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [components],\n  exports: [components],\n})\nexport class RoutingModule {\n  static forRoot(): ModuleWithProviders<RoutingModule> {\n    return {\n      ngModule: RoutingModule,\n      providers: [\n        UrlParser,\n        { provide: LocationStrategy, useClass: PathLocationStrategy },\n        { provide: QueryParams, deps: [Router], useFactory: getQueryParams },\n      ],\n    };\n  }\n}\n","/*\n * Public API Surface of router\n */\n\nexport * from './lib/link-active.directive';\nexport * from './lib/link-to.directive';\nexport * from './lib/route-component.directive';\nexport * from './lib/router.service';\nexport * from './lib/router.component';\nexport * from './lib/route';\nexport * from './lib/route.component';\nexport * from './lib/router.module';\nexport * from './lib/route-params.service';\nexport * from './lib/url-parser';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["queryString.stringify"],"mappings":"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"}